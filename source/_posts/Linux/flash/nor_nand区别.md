---
title: nor_nand区别
date: 2018-05-16 11:13:00
categories:
- Linux
- flash
---
# 共同点
## 先擦除后写
Flash编程原理都是只能将1写为0，而不能将0写成1.
所以在Flash编程之前，必须将对应的部分擦除，而擦除的过程就是将所有位都写为1的过程，块内的所有字节变为0xFF.
即，编程是将相应位写0的过程，而擦除是将相应位写1的过程，两者的执行过程完全相反.
**只不过NORFlash芯片只用擦写一个字，而NAND以块的方式进行擦除，以页的方式进行读写。**
但是nand的擦除和写速度远远超过nor flash。
<!--more-->
# 不同点
## 引脚
![nand引脚图](nand_flash.png)
![nor引脚图](nor_flash.png)
1. nor flash：
	有完整的地址线和数据线，所以nor flash允许访问随机存取存储器上的任何区域，而且可以从引脚图中计算出片子的容量。
	例如上图，地址线22根，数据线16根，则容量为：2^22 * 16bit /1024/1024 = 8M，所以不同容量的nor flash引脚必然不同。

2. nand flash：
	nand flash只有一组数据线，不同容量的nand flash引脚基本一致，只需要在驱动中修改则可以兼容不同容量的flash。
	使用ale/cle来表明现数据线上传输的是数据/命令/地址：
	> 当CLE为高电平表示IO0-IO7传送的是命令；当ALE为高电平表示IO0-IO7传送的是地址；当ALE与CLE都为低电平的时候，表示IO0-IO7传送的是数据。

## 片内执行
NOR的特点是芯片内执行（XIP, eXecute In Place），这样应用程序可以直接在flash闪存内运行，不必再把代码读到系统RAM中。

**nor flash硬件兼容性能较差，容量较小，但是因为XIP的特性适合作为启动程序的存储介质。**
